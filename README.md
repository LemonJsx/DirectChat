# リアルタイムチャット機能
## 機能
現代のDM機能のような、ほかの人との対話ができるものを想定とする。
Next.jsとSupabaseを使用し、Dockerによる環境構築を行う

```mermaid
graph TD
    A[スタート] --> B[ログインボタンをクリック]
    B --> C[GitHub OAuth認証]
    C -->|ログイン成功| D[メッセージ投稿ページを表示]
    C -->|ログイン失敗| J[終了]
    D --> F[メッセージを入力して送信]
    F --> G[Supabaseにメッセージを保存]
    G --> H[メッセージリストを更新]
    H --> I[ログインアウトボタンを押しサインアウト]
    I --> J[終了]
````

1. ユーザー認証 (ログイン)
認証方法: GitHub OAuthを利用した認証
ログイン成功後: メッセージ投稿ページが表示される
ログイン失敗後: アプリケーションは終了する
要件:

ユーザーはGitHubのアカウントでログインできること
ログインが成功すると、チャット画面が表示されること
ログインに失敗した場合、エラーメッセージを表示し、アプリケーションは終了する
2. メッセージの送信
ユーザーはメッセージ入力フォームを使ってメッセージを入力し、送信することができる
メッセージはSupabaseに保存され、リアルタイムで更新される
メッセージ送信後、送信したメッセージが表示され、他のユーザーが見ることができる
要件:

ユーザーがメッセージを入力し、送信できること
送信されたメッセージはSupabaseのデータベースに保存され、更新されること
送信後、メッセージリストが更新され、ユーザーがリアルタイムで他のメッセージを見ることができること
3. メッセージリストの更新
メッセージリストは常に最新の状態を保つため、メッセージが送信されるたびに更新される
新しいメッセージが追加されるたびに、リストが自動的に更新される
要件:

新しいメッセージが送信されると、メッセージリストが自動で更新されること
ユーザーインターフェース上で新しいメッセージがリアルタイムで表示されること
4. サインアウト機能
ユーザーは「ログアウト」ボタンを押して、サインアウトできる
サインアウト後、アプリケーションは終了する
要件:

ユーザーがログアウトボタンを押すことで、サインアウトできること
サインアウト後、ユーザーはアプリケーションを終了し、ログインページに戻ること
5. エラーハンドリング
ログインが失敗した場合、適切なエラーメッセージを表示し、ユーザーに再度ログインを促す
メッセージ送信中にエラーが発生した場合も、ユーザーに通知されること
6. UI/UX
ユーザーが直感的に操作できるよう、シンプルでクリーンなUIデザイン
メッセージ送信とリストの更新がスムーズに行えること


# 仮
## 構築
まずは、適当なディレクトリを作成し、添付されているcompose.yml, Dockerfileを配置。

## ファイルを配置された以降の手順
1. docker compose build
2. docker compose run --rm app npx create-next-app@latest .
    2.のコマンド入れた後に選択する選択。
    - Would you like to use TypeScript? ... Yes
    - Would you like to use ESLint? … Yes
    - Would you like to use Tailwind CSS? … Yes
    - Would you like to use `src/` directory? … Yes
    - Would you like to use App Router? (recommended) … Yes
    - Would you like to customize the default import alias (@/*)? … No
3. docker compose up  # 起動

### 参考
URL: https://yasdtech.com/blog/i10869kx7tv 

URL: https://www.youtube.com/watch?v=-xXASlyU0Ck&t=478s&ab_channel=DailyWebCoding
